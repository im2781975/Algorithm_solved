// C++ program to print intersection of lists
 
#include <bits/stdc++.h>
using namespace std;
 
/* Link list node */
struct Node {
    int data;
    Node* next;
};
 
// A utility function to return  intersection node
Node* intersectPoint(Node* headA, Node* headB)
{
    stack<Node*> stackA;
    stack<Node*> stackB;
    Node* intersectNode = NULL;
 
    while (headB != NULL) {
        stackB.push(headB);
        headB = headB->next;
    }
 
    while (headA != NULL) {
        stackA.push(headA);
        headA = headA->next;
    }
 
    if (!stackA.top()->data == stackB.top()->data) {
        return NULL;
    }
 
    while (!stackA.empty() && !stackB.empty()
           && stackA.top()->data == stackB.top()->data) {
        intersectNode = stackA.top();
        stackA.pop();
        stackB.pop();
    }
 
    return intersectNode;
}
 
// Driver code
int main()
{
    /*
    Create two linked lists
 
    1st Linked list is 3.6.9.15.30
    2nd Linked list is 10.15.30
 
    15 30 are elements in the intersection list
    */
 
    Node* newNode;
    Node* head1 = new Node();
    head1->data = 10;
    Node* head2 = new Node();
    head2->data = 3;
    newNode = new Node();
    newNode->data = 6;
    head2->next = newNode;
    newNode = new Node();
    newNode->data = 9;
    head2->next->next = newNode;
    newNode = new Node();
    newNode->data = 15;
    head1->next = newNode;
    head2->next->next->next = newNode;
    newNode = new Node();
    newNode->data = 30;
    head1->next->next = newNode;
    head1->next->next->next = NULL;
    Node* intersect_node = NULL;
 
    // Find the intersection node of two linked lists
    intersect_node = intersectPoint(head1, head2);
 
    cout << "INTERSECTION POINT: " << intersect_node->data;
}
